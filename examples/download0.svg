<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="171px" preserveAspectRatio="none" style="width:895px;height:171px;" version="1.1" viewBox="0 0 895 171" width="895px" zoomAndPan="magnify"><defs><filter height="300%" id="fot65qakvgc3" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FEFECE" filter="url(#fot65qakvgc3)" height="152.4883" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="877" x="6" y="8"/><rect fill="#FFFFFF" height="120" rx="12.5" ry="12.5" style="stroke: #FFFFFF; stroke-width: 1.0;" width="871" x="9" y="37.4883"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="6" x2="883" y1="34.4883" y2="34.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="410.5" y="26.5352">download</text><ellipse cx="27" cy="102.9883" fill="#000000" filter="url(#fot65qakvgc3)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#fot65qakvgc3)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="50" x="74" y="77.9883"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="74" x2="124" y1="104.4766" y2="104.4766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="25" x="86.5" y="96.5234">idle</text><rect fill="#FEFECE" filter="url(#fot65qakvgc3)" height="50.6211" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="123" x="280" y="77.4883"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="280" x2="403" y1="103.9766" y2="103.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="296.5" y="96.0234">downloading</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="103" x="285" y="120.5781">do/streamChunks</text><rect fill="#FEFECE" filter="url(#fot65qakvgc3)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="557" y="50.9883"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="557" x2="627" y1="77.4766" y2="77.4766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="567" y="69.5234">paused</text><rect fill="#FEFECE" filter="url(#fot65qakvgc3)" height="50.6211" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="134" x="716" y="94.4883"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="716" x2="850" y1="120.9766" y2="120.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="755.5" y="113.0234">finished</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="114" x="721" y="137.5781">onEntry/cleanCache</text><!--link *start*download to download.idle--><path d="M37.0113,102.9883 C45.2543,102.9883 57.3897,102.9883 68.7429,102.9883 " fill="none" id="*start*download-download.idle" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="73.8874,102.9883,64.8874,98.9883,68.8874,102.9883,64.8874,106.9883,73.8874,102.9883" style="stroke: #A80036; stroke-width: 1.0;"/><!--link download.idle to download.downloading--><path d="M124.0384,102.9883 C159.3122,102.9883 224.9057,102.9883 274.8631,102.9883 " fill="none" id="download.idle-download.downloading" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="279.9531,102.9883,270.9531,98.9883,274.9531,102.9883,270.9531,106.9883,279.9531,102.9883" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="143" y="69.5566">START</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="143" y="84.8672">[stableConnection]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="143" y="100.1777">/startDownload</text><!--link download.downloading to download.paused--><path d="M395.352,77.3428 C403.7703,74.3028 412.4997,71.6824 421,69.9883 C465.1499,61.1891 516.9533,64.9104 551.877,69.4121 " fill="none" id="download.downloading-download.paused" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="556.9042,70.0805,548.5099,64.9292,551.9478,69.4215,547.4555,72.8594,556.9042,70.0805" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="460.5" y="61.5566">PAUSE</text><!--link download.downloading to download.finished--><path d="M403.3957,117.2198 C409.3242,118.2821 415.2628,119.2321 421,119.9883 C520.7907,133.1407 637.4038,129.8365 710.7338,125.5189 " fill="none" id="download.downloading-download.finished" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="715.938,125.2065,706.7144,121.7532,710.947,125.5062,707.194,129.7388,715.938,125.2065" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="37" x="573.5" y="125.5566">DONE</text><!--link download.paused to download.downloading--><path d="M556.8647,99.1197 C551.0995,101.9495 545.0324,104.3994 539,105.9883 C496.4733,117.1892 446.9918,116.4152 408.1953,112.853 " fill="none" id="download.paused-download.downloading" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="403.0359,112.3571,411.6119,117.1999,408.013,112.8355,412.3773,109.2366,403.0359,112.3571" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="422" y="87.5566">RESUME</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="116" x="422" y="102.8672">/resumeDownload</text><!--link download.paused to download.finished--><path d="M627.0323,84.0586 C650.4477,89.4527 682.1018,96.7447 710.7751,103.3501 " fill="none" id="download.paused-download.finished" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="715.7193,104.4891,707.8471,98.5706,710.8469,103.3665,706.051,106.3664,715.7193,104.4891" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="646" y="86.5566">CANCEL</text><!--
@startuml
left to right direction
state "download" as download {
  [*] - -> download.idle

  state "idle" as download.idle {
    download.idle - -> download.downloading : START\l[stableConnection]\l/startDownload
  }

  state "downloading" as download.downloading {
    download.downloading : do/streamChunks
    download.downloading - -> download.paused : PAUSE
    download.downloading - -> download.finished : DONE
  }

  state "paused" as download.paused {
    download.paused - -> download.downloading : RESUME\l/resumeDownload
    download.paused - -> download.finished : CANCEL
  }

  state "finished" as download.finished {
    download.finished : onEntry/cleanCache
  }
}
@enduml

PlantUML version 1.2018.09(Fri Jul 27 18:58:18 CEST 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_91-b14
Operating System: Mac OS X
OS Version: 10.13.1
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>