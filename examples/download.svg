<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="168px" preserveAspectRatio="none" style="width:822px;height:168px;" version="1.1" viewBox="0 0 822 168" width="822px" zoomAndPan="magnify"><defs><filter height="300%" id="fbx4968vz2epw" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FEFECE" filter="url(#fbx4968vz2epw)" height="149.4883" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="804" x="6" y="8"/><rect fill="#FFFFFF" height="117" rx="12.5" ry="12.5" style="stroke: #FFFFFF; stroke-width: 1.0;" width="798" x="9" y="37.4883"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="6" x2="810" y1="34.4883" y2="34.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="374" y="26.5352">download</text><ellipse cx="27" cy="99.9883" fill="#000000" filter="url(#fbx4968vz2epw)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#fbx4968vz2epw)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="50" x="74" y="74.9883"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="74" x2="124" y1="101.4766" y2="101.4766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="25" x="86.5" y="93.5234">idle</text><rect fill="#FEFECE" filter="url(#fbx4968vz2epw)" height="50.6211" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="117" x="280" y="74.4883"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="280" x2="397" y1="100.9766" y2="100.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="293.5" y="93.0234">downloading</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="97" x="285" y="117.5781">do/streamChunk</text><rect fill="#FEFECE" filter="url(#fbx4968vz2epw)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="484" y="47.9883"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="484" x2="554" y1="74.4766" y2="74.4766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="494" y="66.5234">paused</text><rect fill="#FEFECE" filter="url(#fbx4968vz2epw)" height="50.6211" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="134" x="643" y="91.4883"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="643" x2="777" y1="117.9766" y2="117.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="682.5" y="110.0234">finished</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="114" x="648" y="134.5781">onEntry/cleanCache</text><!--link *start*download to download.idle--><path d="M37.0113,99.9883 C45.2543,99.9883 57.3897,99.9883 68.7429,99.9883 " fill="none" id="*start*download-download.idle" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="73.8874,99.9883,64.8874,95.9883,68.8874,99.9883,64.8874,103.9883,73.8874,99.9883" style="stroke: #A80036; stroke-width: 1.0;"/><!--link download.idle to download.downloading--><path d="M124.178,99.9883 C159.592,99.9883 225.3026,99.9883 274.6663,99.9883 " fill="none" id="download.idle-download.downloading" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="279.6925,99.9883,270.6925,95.9883,274.6925,99.9883,270.6925,103.9883,279.6925,99.9883" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="143" y="66.5566">START</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="143" y="81.8672">[stableConnection]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="143" y="97.1777">/initializeCache</text><!--link download.downloading to download.paused--><path d="M397.2187,85.2669 C403.2015,84.0391 409.2068,82.9155 415,81.9883 C435.7739,78.6634 459.0927,76.5033 478.3766,75.1352 " fill="none" id="download.downloading-download.paused" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="483.7033,74.7701,474.4508,71.395,478.715,75.1121,474.998,79.3763,483.7033,74.7701" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="421" y="73.5566">PAUSE</text><!--link download.downloading to download.finished--><path d="M397.3793,110.0564 C403.3302,111.0552 409.2842,112.0471 415,112.9883 C445.6412,118.0341 453.043,121.5362 484,123.9883 C535.245,128.0474 593.1999,126.1221 637.5907,123.2727 " fill="none" id="download.downloading-download.finished" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="642.6615,122.9394,633.4185,119.5384,637.6723,123.2674,633.9433,127.5212,642.6615,122.9394" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="37" x="500.5" y="120.5566">DONE</text><!--link download.paused to download.downloading--><path d="M483.8647,96.1197 C478.0995,98.9495 472.0324,101.3994 466,102.9883 C445.6693,108.3431 422.8795,109.3129 402.2519,108.4139 " fill="none" id="download.paused-download.downloading" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="397.057,108.1466,405.8395,112.6039,402.0504,108.4036,406.2507,104.6145,397.057,108.1466" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="416" y="99.5566">RESUME</text><!--link download.paused to download.finished--><path d="M554.0323,81.0586 C577.4477,86.4527 609.1018,93.7447 637.7751,100.3501 " fill="none" id="download.paused-download.finished" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="642.7193,101.4891,634.8471,95.5706,637.8469,100.3665,633.051,103.3664,642.7193,101.4891" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="573" y="83.5566">CANCEL</text><!--
@startuml
left to right direction
state "download" as download {
  [*] - -> download.idle

  state "idle" as download.idle {
    download.idle - -> download.downloading : START\l[stableConnection]\l/initializeCache
  }

  state "downloading" as download.downloading {
    download.downloading : do/streamChunk
    download.downloading - -> download.paused : PAUSE
    download.downloading - -> download.finished : DONE
  }

  state "paused" as download.paused {
    download.paused - -> download.downloading : RESUME
    download.paused - -> download.finished : CANCEL
  }

  state "finished" as download.finished {
    download.finished : onEntry/cleanCache
  }
}
@enduml

PlantUML version 1.2018.09(Fri Jul 27 18:58:18 CEST 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_91-b14
Operating System: Mac OS X
OS Version: 10.13.1
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>